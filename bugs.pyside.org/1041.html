<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>Bug 1041 &ndash; QAbstractItemModel has wrong ownership policy for selectionModel()</title>


<link rel="Top" href="http://bugs.pyside.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=1041&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=1041">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=1041">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=1041">



    
    
    <link href="skins/standard/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="js/yui/assets/skins/sam/autocomplete.css" rel="stylesheet"
        type="text/css" ><link href="js/yui/assets/skins/sam/calendar.css" rel="stylesheet"
        type="text/css" ><link href="skins/standard/global.css" rel="stylesheet"
        type="text/css" ><link href="skins/standard/show_bug.css" rel="stylesheet"
        type="text/css" ><!--[if lte IE 7]>
      



  <link href="skins/standard/IE-fixes.css" rel="stylesheet"
        type="text/css" >
<![endif]-->

    <link href="skins/contrib/OpenBossa/global.css" rel="stylesheet"
        type="text/css" title="OpenBossa">
<link href="skins/contrib/Dusk/global.css" rel="alternate stylesheet"
        type="text/css" title="Dusk">

    

    

    
<script type="text/javascript" src="js/yui/yahoo-dom-event/yahoo-dom-event.js"></script><script type="text/javascript" src="js/yui/cookie/cookie-min.js"></script><script type="text/javascript" src="js/yui/datasource/datasource-min.js"></script><script type="text/javascript" src="js/yui/connection/connection-min.js"></script><script type="text/javascript" src="js/yui/json/json-min.js"></script><script type="text/javascript" src="js/yui/autocomplete/autocomplete-min.js"></script><script type="text/javascript" src="js/yui/calendar/calendar-min.js"></script><script type="text/javascript" src="js/global.js"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/',
                maxusermatches: 1000
            },

            string: {
                

                attach_desc_required:
                    'You must enter a Description for this attachment.',
                component_required:
                    'You must select a Component for this bug.',
                description_required:
                    'You must enter a Description for this bug.',
                short_desc_required:
                    'You must enter a Summary for this bug.',
                version_required:
                    'You must select a Version for this bug.'
            }
        };

    // -->
    </script>
<script type="text/javascript" src="js/util.js"></script><script type="text/javascript" src="js/field.js"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="bugs-pyside-org bz_bug bz_status_RESOLVED bz_product_PySide bz_component_PySide bz_bug_1041 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td><a id="pysidelogo" href="http://www.pyside.org">&nbsp;</a></td>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;1041</p>
    </td>

    <td id="subtitle">
      <p class="subheader">QAbstractItemModel has wrong ownership policy for selectionModel()</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2012-01-11 22:47:48 EET</p>
    </td>
</tr>
</table>

<table id="lang_links_container" cellpadding="0" cellspacing="0"
       class="bz_default_hidden"><tr><td>
</td></tr></table>
<ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li></li>

  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_top">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="http://bugs.pyside.org/show_bug.cgi?id=1041&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>
  <form action="http://bugs.pyside.org/show_bug.cgi?id=1041" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_top"
        onsubmit="return check_mini_login_fields( '_top' );"
  >
    <input id="Bugzilla_login_top" 
           class="bz_login"
           name="Bugzilla_login"
           onfocus="mini_login_on_focus('_top')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_top" 
           name="Bugzilla_password"
           type="password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_top" value="password"
           onfocus="mini_login_on_focus('_top')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_top">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_top');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_top');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
<li id="forgot_container_top">
  <span class="separator">| </span>
  <a id="forgot_link_top" href="http://bugs.pyside.org/show_bug.cgi?id=1041&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('_top')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_top"
        class="mini_forgot bz_default_hidden">
    <label>Login: <input type="text" name="loginname" size="20"></label>
    <input id="forgot_button_top" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <a href="#" onclick="return hide_forgot_form('_top')">[x]</a>
  </form>
</li>
</ul>
</div> 

<div id="bugzilla-body">
<div id="message">
<p><strong>PySide Bugzilla Closed for New Bugs</strong></p>
<p>PySide is now a Qt Add-on and uses the Qt Project's <a href="https://bugreports.qt-project.org/">JIRA Bug Tracker</a> instead of this Bugzilla instance. This Bugzilla is left for reference purposes.</p>
</div>

<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>
<script type="text/javascript">
  <!--
  
  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id, real_id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
        document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                       id + ',' + real_id + '); return false;">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id) {
      var prefix = "(In reply to comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);

        /* make sure we split on all newlines -- IE or Moz use \r and \n
         * respectively.
         */
        text = text.split(/\r|\n/);

        for (var i=0; i < text.length; i++) {
            replytext += "> " + text[i] + "\n"; 
        }

        replytext = prefix + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  /* Index all classifications so we can keep track of the classification
   * for the selected product, which could control field visibility.
   */
  var all_classifications = new Array(1);
      all_classifications['PySide'] = 'Unclassified';

  //-->
  </script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2012-01-11 22:47:48">
  <input type="hidden" name="longdesclength" value="8">
  <input type="hidden" name="id" value="1041">
  <input type="hidden" name="token" value="1336601131-2811bd33174b12cdd920ce48fd3cc8a7">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=1041"><b>Bug&nbsp;1041</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">QAbstractItemModel has wrong ownership policy for selectionModel()</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary">  
        
        <tr>
          <td>
            <label accesskey="s" for="short_desc"><u>S</u>ummary</label>:
          </td>
          <td>QAbstractItemModel has wrong ownership policy for selectionModel()
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('QAbstractItemModel has wrong ownership policy for selectionModel()', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <td class="field_label">
      <b><a href="page.cgi?id=fields.html#status">Status</a></b>:
    </td>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >PySide</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=PySide"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >PySide</td>
    </tr>
    <tr>
      <td class="field_label">
        <label for="version"><b>Version</b></label>:
      </td>
<td>HEAD
  </td>
    </tr>
        
    
        
    <tr>
      <td class="field_label">
        <label for="rep_platform" accesskey="h"><b>Platform</b></label>:
      </td>
      <td class="field_value">All
       All
       <script type="text/javascript">
         assignToDefaultOnChange(['product', 'component']);
       </script>
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <td class="field_label">
        <label for="priority" accesskey="i">
          <b><a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></b></label>:
      </td>
      <td>P2
       normal
      </td>
    </tr>            
          
          <tr>
      <td class="field_label">
        <b><a href="page.cgi?id=fields.html#assigned_to">Assigned To</a></b>:
      </td>
      <td><span class="vcard"><span class="fn">Paulo Alcantara</span>
</span>
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr>
    <td class="field_label">
      <label for="bug_file_loc" accesskey="u"><b>
          <u>U</u>RL</b></label>:
    </td>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr><th class="field_label">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>    
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>    
    <span id="blocked_input_area">
    </span>
    
  </td>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=1041&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=1041">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <td class="field_label">
      <b>Reported</b>:
    </td>
    <td>2011-10-31 23:44 EET by <span class="vcard"><span class="fn">Hugo Parente Lima</span>
</span>
    </td>
  </tr>
  
  <tr>
    <td class="field_label">
      <b> Modified</b>:
    </td>
    <td>2012-01-11 22:47 EET 
      (<a href="show_activity.cgi?id=1041">History</a>)
    </td>
  
  </tr>
         <tr>
      <td class="field_label">
        <label for="newcc" accesskey="a"><b>CC List</b>:</label>
      </td>
      <td>11 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" name="cc" multiple="multiple" size="5">
                <option value="bruno.araujo">bruno.araujo</option>
                <option value="hugo.lima">hugo.lima</option>
                <option value="lauro.neto">lauro.neto</option>
                <option value="luciano.wolf">luciano.wolf</option>
                <option value="marcelo.lira">marcelo.lira</option>
                <option value="matti.p.airas">matti.p.airas</option>
                <option value="njsmith">njsmith</option>
                <option value="pcacjr">pcacjr</option>
                <option value="renatox">renatox</option>
                <option value="stefan.champailler">stefan.champailler</option>
                <option value="willer.moreira">willer.moreira</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
    }
    else {
        link.innerHTML = "Hide Obsolete";
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
        <a href="attachment.cgi?bugid=1041&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table><tr><td><fieldset>
        <legend>Note</legend>
        You need to
        <a href="show_bug.cgi?id=1041&amp;GoAheadAndLogIn=1">log in</a>
         before you can comment on or make changes to this bug.
      </fieldset></table><tr></td>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="js/comments.js" type="text/javascript">
</script>







<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c0">Description</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Hugo Parente Lima</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-31 23:44:58 EET
        </span>
      </div>



<pre class="bz_comment_text" >The following code causes a weird error maybe on type discover code.

#!/usr/bin/env python

from PySide import QtGui, QtCore
import sys

class TreeWidget(QtGui.QWidget):
    def __init__(self, parent=None):
        super(TreeWidget, self).__init__(parent)
        self.view = QtGui.QTreeView(self)
        self.count = 0
        self.make_view()

    def make_view(self):
        self._model = QtGui.QStandardItemModel()
        self.view.setModel(self._model)
        smodel = self.view.selectionModel()
        self.count += 1
        print(self.count)
        if self.count &gt; 100:
            QApplication.instance.quit()

    def event(self, event):
        return super(TreeWidget, self).event(event)

app = QtGui.QApplication(sys.argv)

w = TreeWidget()
w.show()

t = QtCore.QTimer()
t.timeout.connect(w.make_view)
t.start(10)

app.exec_()

Part of the fix includes the following change on typesystem (on
QAbstractItemView):

    &lt;modify-function signature=&quot;selectionModel()&quot;&gt;
      &lt;modify-argument index=&quot;return&quot;&gt;
        &lt;!-- Defining ownership as &quot;default&quot; avoids the object to be
automatically
             set as parent of the returned pointer. --&gt;
        &lt;define-ownership class=&quot;target&quot; owner=&quot;default&quot;/&gt;
      &lt;/modify-argument&gt;
    &lt;/modify-function&gt;</pre>
    </div>
  <div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Lauro Moura</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-18 19:26:42 EET
        </span>
      </div>



<pre class="bz_comment_text" >What kind of error? Paulo found something related to QWarnings from QTimers
being deleted twice (see [1]).

[1] <a href="https://bugreports.qt.nokia.com/browse/QTBUG-16175">https://bugreports.qt.nokia.com/browse/QTBUG-16175</a></pre>
    </div>
  <div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Nathan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-18 22:42:54 EET
        </span>
      </div>



<pre class="bz_comment_text" >Without the type system change for QAbstractItemView, QItemSelectionModel
instances begin to be delivered to the TreeWidget.event method rather than
instances of QEvent.  My hypothesis was that the following chain of events was
occurring:

1. A QItemSelectionModel object was deleted in C++ but its wrapper was not
removed from the Python object map.
2. A new object (QEvent in this case) was created who's memory address just so
happens to land on the deleted QItemSelectionModel address.  This fooled
PySide/Shiboken into thinking that the old QItemSelectionModel wrapper object
was a wrapper for the new QEvent object, and so delivered the
QItemSelectionModel wrapper to the Python TreeWidget.event method.

The type system code included in the original bug post changes the ownership of
the QItemSelectionModel instance returned from
QAbstractItemView.selectionModel() to match that of the ownership on the
QAbstractItemModel returned from QAbstractItemView.model().

This error occurs without the QTimer, but it relies on chance and thus doesn't
always occur.  The QTimer was added to the code to make it show up
*eventually*.

The first error is:

Traceback (most recent call last):
  File &quot;test.py&quot;, line 22, in event
    return super(TreeWidget, self).event(event)
TypeError: 'PySide.QtGui.QWidget.event' called with wrong argument types:
  PySide.QtGui.QWidget.event(PySide.QtGui.QItemSelectionModel)
Supported signatures:
  PySide.QtGui.QWidget.event(PySide.QtCore.QEvent)


Followed by:

Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelAboutToBeReset()</pre>
    </div>
  <div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Stefan Champailler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-01-06 09:47:36 EET
        </span>
      </div>



<pre class="bz_comment_text" >Hello, I came across something similar :

My best explanation is that the selection model is not
created by PySide but inside Qt. Therefore, somehow, PySide
can't get a hold of it and can't handle its destruction
properly, leaving to leaks...

I use : 
- python 2.7.2
- PySide-1.0.5qt473-py2.7
- Windows XP

Thank you,

Stefan


----------------------------------- logs follows



import sys
from PySide.QtGui import *
from PySide.QtCore import *

class BugWindow(QMainWindow):
    def __init__(self):
        super(BugWindow,self).__init__()

        # First (not so important) question : who has ownership
        # on the table here ? Python or Qt ? Qt doc says
        # that QMainWindow takes ownership of the table but since
        # we're in a subclass then, who has ownership ? The
        # subclass (and thus Python) or the parent class ?

        self.setCentralWidget(QTableView())

        # We're going to call test_bug() often and until death
        # It's just one way of doing this

        self.timer = QTimer(self)
        self.timer.timeout.connect(self.test_bug)

        # Adapt this to the performance of your system if needed
        # to make sure you exit test_bug() before it is called
        # again.

        self.timer.start(20) 

    &#64;Slot()
    def test_bug(self):

        # First, create a new model ----------------------------------------

        # If there was a model in self.m before, it is now
        # ready for garbage collection =&gt; if something
        # happens now on the table that requires access
        # to the model, we're in for a possible bug 

        # parent is None =&gt; ownership by Python (and then
        # destruction when leaving this method) ?

        self.m = QStandardItemModel(1,1,None) 


        # Set the table's model --------------------------------------------

        table = self.centralWidget()

        # A new selection model is associated by Qt to the model, cf Qt. doc
        # Question is : what happened to the previous selection model ?

        table.setModel(self.m) # model's ownership is left unchanged, cf. Qt
doc.

        # Here, I expect the old model to be definitely
        # lost (it is not in self.m anymore and it is
        # not referenced by the table anymore). Therefore
        # the model can be garbage collected by Python.

        # But for some reason, adding this line makes the
        # program crash after a few calls to test_bug()

        table.selectionModel()

        # Interestingly, the following line doesn't crash
        # However, it sounds normal. By setting the parent
        # to None, I guess the ownership is transferred
        # from Qt (which created the selection model) to
        # Python (question is : is my guess right ?)

        # table.selectionModel().setParent(None)

        print &quot;go !&quot;


app = QApplication(sys.argv)
window = BugWindow()
window.show()
app.exec_()






C:\PORT-STC\pl\ECLIPS~1\PL\src&gt;python bug.py
go !
go !
go !
go !
go !
go !
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Error calling slot &quot;test_bug&quot;
Traceback (most recent call last):
  File &quot;bug.py&quot;, line 71, in test_bug
    table.setModel(self.m) # model's ownership is left unchanged, cf. Qt doc.
AttributeError: 'PySide.QtGui.QItemSelectionModel' object has no attribute
'rowCount'
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::layoutAboutToBeChanged()
Object::disconnect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal QItemSelectionModel::modelReset()
Object::disconnect: No such signal QItemSelectionModel::layoutChanged()
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::layoutAboutToBeChanged()
Object::disconnect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal QItemSelectionModel::modelReset()
Object::disconnect: No such signal QItemSelectionModel::layoutChanged()
Object::disconnect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal QItemSelectionModel::modelReset()
Object::disconnect: No such signal QItemSelectionModel::layoutChanged()
go !
go !
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Error calling slot &quot;test_bug&quot;
Traceback (most recent call last):
  File &quot;bug.py&quot;, line 71, in test_bug
    table.setModel(self.m) # model's ownership is left unchanged, cf. Qt doc.
AttributeError: 'PySide.QtGui.QItemSelectionModel' object has no attribute
'rowCount'
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::disconnect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal QItemSelectionModel::modelReset()
Object::disconnect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::disconnect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal QItemSelectionModel::modelReset()
Object::disconnect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::disconnect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::disconnect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::disconnect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::disconnect: No such signal QItemSelectionModel::modelReset()
Object::disconnect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::dataChanged(QModelIndex,QModelIndex)
Object::connect: No such signal
QItemSelectionModel::headerDataChanged(Qt::Orientation,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::modelReset()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeRemoved(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::rowsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal
QItemSelectionModel::columnsAboutToBeInserted(QModelIndex,int,int)
Object::connect: No such signal QItemSelectionModel::layoutAboutToBeChanged()
Object::connect: No such signal QItemSelectionModel::layoutChanged()
Error calling slot &quot;test_bug&quot;
Traceback (most recent call last):
  File &quot;bug.py&quot;, line 71, in test_bug
    table.setModel(self.m) # model's ownership is left unchanged, cf. Qt doc.
AttributeError: 'PySide.QtGui.QItemSelectionModel' object has no attribute
'rowCount'
^C
C:\PORT-STC\pl\ECLIPS~1\PL\src&gt;</pre>
    </div>
  <div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Nathan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-01-06 23:17:31 EET
        </span>
      </div>



<pre class="bz_comment_text" >I was able to reproduce Stefan's bug with PySide 1.0.8 and 1.0.9.  Both
Stefan's bug and mine are also reproducable with the latest version of code on
github (as of 2011-01-06).</pre>
    </div>
  <div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Hugo Parente Lima</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-01-09 18:02:07 EET
        </span>
      </div>



<pre class="bz_comment_text" >Changing the status to NEW, the Qt bug was fixed so it it really blocked
something is doesn't block anymore</pre>
    </div>
  <div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Nathan</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-01-09 22:16:23 EET
        </span>
      </div>



<pre class="bz_comment_text" >I am running Qt 4.7.4 (one of the two versions that received the QTimer bug
fix) and PySide latest (as of 2011-01-06) and can confirm that this bug still
exists.</pre>
    </div>
  <div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=1041#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Paulo Alcantara</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-01-11 22:47:48 EET
        </span>
      </div>



<pre class="bz_comment_text" >Hi,

Thanks for the report and tests!

Fixed on PySide commit a50e42645e01662db3875e5872e84ca80ed84464.</pre>
    </div>
  


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=1041">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=1041">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=1041">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">This bug is not in your last
    search results.</font></i>
</div>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li></li>

  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_bottom">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="http://bugs.pyside.org/show_bug.cgi?id=1041&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>
  <form action="http://bugs.pyside.org/show_bug.cgi?id=1041" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_bottom"
        onsubmit="return check_mini_login_fields( '_bottom' );"
  >
    <input id="Bugzilla_login_bottom" 
           class="bz_login"
           name="Bugzilla_login"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_bottom" 
           name="Bugzilla_password"
           type="password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_bottom" value="password"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_bottom">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
<li id="forgot_container_bottom">
  <span class="separator">| </span>
  <a id="forgot_link_bottom" href="http://bugs.pyside.org/show_bug.cgi?id=1041&amp;GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('_bottom')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_bottom"
        class="mini_forgot bz_default_hidden">
    <label>Login: <input type="text" name="loginname" size="20"></label>
    <input id="forgot_button_bottom" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
  </form>
</li>
</ul>
  </li>

  
    

  


  
</ul>

  <div class="outro"></div>
</div>


</body>
</html>